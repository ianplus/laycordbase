<!DOCTYPE html>
<html lang="en">
<head>
    b
</head>
<body>
    <div>
        <div id="images">
        </div>
        <p style="position: relative;text-align: center;width: 600px;top: -300px;font-size: x-large;" id="text"></p>
    </div>
    
    <script>
        var newURL = window.location.href
        function extraerParametros(url) {
            if (typeof url != 'string') {
                throw TypeError('precisa ser una cadena');
            }
            return (url.match(/([^?=&]+)(=([^&]*))/g) || []).reduce((a, p) => ((a[p.slice(0, p.indexOf("="))] = p.slice(p.indexOf('=') + 1)), a), {});
        }
        var items = extraerParametros(newURL);
        // fill
        
        const background = new Image(600, 400); // width, height
        const avatar = new Image(200, 200); // width, height
        
        background.src = items.bgurl;
        background.id = "bg";
        background.style = "position:relative;";
        
        avatar.src = items.avatarurl;
        avatar.id = "av";
        avatar.style = "position: relative;top: -150px;left: -400px;";
        
        var main = document.getElementById("bg")
        var imgs = document.getElementById("images")
        imgs.appendChild(avatar);
        bg.appendChild(background);
        document.getElementById("text").innerHTML = items.text;
        
        // logs
        
        //console.log(items);
        console.log(items["avatarurl"]);
        //console.log(items.bgurl);
        //console.log(items.text);
    </script>
</body>
</html>
